(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-54ca"],{GGtg:function(t,a,e){},OBPI:function(t,a,e){"use strict";var s=e("GGtg");e.n(s).a},QTE6:function(t,a,e){"use strict";e.r(a);var s=e("X3IP"),i=e("vDqi"),l=e.n(i);function r(t){return l.a.get("/api/admin/articleList/"+t.type+"?nickName="+t.nickName+"&sDate="+t.sDate+"&eDate="+t.eDate)}var n={data:function(){return{listLoading:!0,overruleVisible:!1,remark:"",list:"",name:"",dateVal:""}},computed:{},created:function(){this.getList()},methods:{getList:function(){var t=this;r({type:2,nickName:"",sDate:"",eDate:""}).then(function(a){200==a.status&&a.data&&(a.data.status?(t.$data.list=a.data.result,t.$data.listLoading=!1):Object(s.Message)({message:a.data.errMessage,type:"error",duration:1e3}))})},selectList:function(){var t=this;(this.$data.name||this.$data.dateVal)&&(this.$data.dateVal?r({type:2,nickName:this.$data.name,sDate:this.$data.dateVal[0]?this.dateToString(this.$data.dateVal[0]):"",eDate:this.$data.dateVal[1]?this.dateToString(this.$data.dateVal[1]):""}).then(function(a){200==a.status&&a.data&&(a.data.status?(t.$data.list=a.data.result,t.$data.listLoading=!1):Object(s.Message)({message:a.data.errMessage,type:"error",duration:1e3}))}):r({type:2,nickName:this.$data.name,sDate:"",eDate:""}).then(function(a){200==a.status&&a.data&&(a.data.status?(t.$data.list=a.data.result,t.$data.listLoading=!1):Object(s.Message)({message:a.data.errMessage,type:"error",duration:1e3}))}))},showOverrule:function(t){this.$data.overruleVisible=!0,this.$data.remark=t},reAuditData:function(t){var a=this;(function(t){return l.a.post("/api/admin/reAudit/"+t.id)})({id:t}).then(function(t){200==t.status&&t.data&&(t.data.status?(Object(s.Message)({message:t.data.result,type:"success",duration:1e3}),a.getList()):Object(s.Message)({message:t.data.errMessage,type:"error",duration:1e3}))})}}},o=(e("OBPI"),e("KHd+")),d=Object(o.a)(n,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"block",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"el-input",staticStyle:{float:"left",width:"180px","margin-right":"20px"}},[e("el-input",{attrs:{placeholder:"微信昵称"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}})],1),t._v(" "),e("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateVal,callback:function(a){t.dateVal=a},expression:"dateVal"}}),t._v(" "),e("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.selectList}},[t._v("筛选")])],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[e("el-table-column",{attrs:{prop:"id",label:"序号",sortable:""}}),t._v(" "),e("el-table-column",{attrs:{prop:"user.nickName",label:"微信昵称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"user.name",label:"姓名"}}),t._v(" "),e("el-table-column",{attrs:{prop:"mobile",label:"电话"}}),t._v(" "),e("el-table-column",{attrs:{prop:"user.created_at",label:"上传时间",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"article.auditTime",label:"审核时间"}}),t._v(" "),e("el-table-column",{attrs:{prop:"",label:"驳回原因",width:"90"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"primary"}},[e("div",{staticClass:"point",on:{click:function(e){t.showOverrule(a.row.remark)}}},[t._v("查看原因")])])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"danger"}},[e("div",{staticClass:"point",on:{click:function(e){t.reAuditData(a.row.id)}}},[t._v("重新审核")])])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"查看文章"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"success"}},[e("div",{staticClass:"point"},[e("a",{attrs:{href:"/admin#/article/content?id="+a.row.id}},[t._v("查看")])])])]}}])})],1),t._v(" "),e("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(a){t.dialogVisible=a}}},["audit"==t.type?e("span",[t._v("确定通过")]):t._e(),t._v(" "),"reject"==t.type?e("span",[t._v("确定驳回")]):t._e(),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.dialogSure}},[t._v("确 定")])],1)]),t._v(" "),e("el-dialog",{attrs:{title:"驳回原因",visible:t.overruleVisible,width:"30%"},on:{"update:visible":function(a){t.overruleVisible=a}}},[e("span",[t._v(t._s(t.remark))])])],1)},[],!1,null,"9a429c14",null);d.options.__file="index.vue";a.default=d.exports}}]);